<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chess Battle City — Refactor Demo</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div id="app">
    <canvas id="c"></canvas>
    <div id="ui">
      <div id="topbar">
        <div id="coins">Coins: <span id="coinsVal">0</span></div>
        <div id="turnIndicator">Turn: <span id="turnVal">Player</span></div>
        <div id="controls">
          <button id="moveBtn" class="btn">Move</button>
          <button id="aimBtn" class="btn">Aim / Shoot</button>
          <button id="endTurn" class="btn primary">End Turn</button>
          <button id="viewTop" class="btn">Top View</button>
          <button id="viewSide" class="btn">Side View</button>
          <button id="helpBtn" class="btn">Help (H)</button>
        </div>
      </div>
      <div id="sidebar">
        <h3>Player Tanks</h3>
        <div id="tankList"></div>
        <h3>Shop</h3>
        <div id="shop"></div>
        <h3>Actions</h3>
        <div id="actions"></div>
        <h3>Logs</h3>
        <div id="log"></div>
      </div>

      <div id="helpOverlay" class="hidden">
        <div class="help-panel">
          <h2>Controls & Help</h2>
          <ul>
            <li><strong>1-9</strong> — Select tank</li>
            <li><strong>M</strong> — Show movement range</li>
            <li><strong>A</strong> — Enter aiming mode (click ground to set direction)</li>
            <li><strong>Space</strong> — End player turn</li>
            <li><strong>Esc</strong> — Cancel aim / clear overlays</li>
            <li><strong>F</strong> — Fire (in aim mode)</li>
            <li><strong>H</strong> — Toggle this help</li>
            <li><strong>V</strong> — Toggle camera view (Top / Side)</li>
            <li><strong>Click</strong> on grid — Move selected tank (if in range and not moved this turn)</li>
          </ul>
          <button id="closeHelp" class="btn">Close</button>
        </div>
      </div>

      <div id="aimPanel" class="hidden">
        <h3>Aiming Mode</h3>
        <div class="aim-controls">
          <label>Angle: <input id="angle" type="range" min="0" max="75" value="30"/></label>
          <label>Power: <input id="power" type="range" min="10" max="100" value="50"/></label>
        </div>
        <div class="aim-actions">
          <button id="fireBtn" class="btn danger">Fire</button>
          <button id="cancelAim" class="btn">Cancel</button>
        </div>
        <div style="margin-top:8px; font-size:13px; color:#ddd">Tip: Click on the ground while in Aim mode to set firing direction (you can lob shells over obstacles).</div>
      </div>

    </div>
  </div>

  <script src="https://unpkg.com/three@0.155.0/build/three.min.js"></script>
  <script src="./main.js"></script>
</body>
</html>